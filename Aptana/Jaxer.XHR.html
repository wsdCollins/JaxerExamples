<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Jaxer Framework Reference: Jaxer.XHR</title><meta http-equiv="cache-control" content="no-cache"><link rel="stylesheet" href="shared.css" type="text/css"><script src="jquery.js" type="text/javascript"></script><script src="api.js" type="text/javascript"></script></head><body><img src="aptana.gif" hspace="21" vspace="3"><h1>Jaxer.XHR : <a href="Object.html">Object</a><div style="font-weight:normal;font-size:70%">Return to: <a href="Jaxer.index.html">Jaxer Framework index</a></div></h1><div class="content"><div class="classDescription">Namespace to hold the Jaxer client-side cross-browser wrapper around XMLHttpRequest.</div><a name="Jaxer.XHR.Platform Support"></a><h2>Platform Support</h2><p><table cellspacing="2" width="90%"><tr class="compheader"><th class="browser">Jaxer Server Framework</th><th class="browser">Jaxer Client Framework</th></tr><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></table></p><h2>Classes</h2><p><table cellspacing="2" width="90%"><tr class="item"><td class="declaration" style="font-size: 0.8em"><a href="Jaxer.XHR.ResponseData.html"><div>Jaxer.XHR.ResponseData</div></a></td></tr><tr class="item"><td class="declaration" style="font-size: 0.8em"><a href="Jaxer.XHR.SendOptions.html"><div>Jaxer.XHR.SendOptions</div></a></td></tr></table></p><a name="Jaxer.XHR.Properties"></a><h2>Properties</h2><table cellspacing="2" width="90%"><tr><td colspan="4" class="toggle-bar"><img src="show_advanced.gif" class="advanced-toggle" onclick="toggleAdvanced(this)" title="Show/Hide advanced API items"></td></tr><tr class="compheader" visibility=""><th style="text-align:left">Property</th><th>Action</th><th class="browser">Jaxer Server Framework</th><th class="browser">Jaxer Client Framework</th></tr><tr class="item advanced"><td class="declaration"><div class="name"><a name="Jaxer.XHR.REASON_FAILURE"></a>static REASON_FAILURE
					 : <i>String</i></div><div class="description">The value of the "reason" property that indicates a communication failure has occurred. This property is set on the Error object that's thrown by XHR.send() during synchronous requests that don't use the onsuccess function but rather just return a response or throw an Error.<br><br>(Advanced)</div></td><td class="no-details">
						No Details
					</td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-property"><td valign="top" colspan="4"><dl class="details"><dt>Visibility</dt><dd>advanced</dd></dl></td></tr><tr class="item advanced"><td class="declaration"><div class="name"><a name="Jaxer.XHR.REASON_TIMEOUT"></a>static REASON_TIMEOUT
					 : <i>String</i></div><div class="description">The value of the "reason" property that indicates a timeout has occurred. This property is set on the Error object that's thrown by XHR.send() during synchronous requests that don't use the onsuccess function but rather just return a response or throw an Error.<br><br>(Advanced)</div></td><td class="no-details">
						No Details
					</td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-property"><td valign="top" colspan="4"><dl class="details"><dt>Visibility</dt><dd>advanced</dd></dl></td></tr><tr class="item "><td class="declaration"><div class="name"><a name="Jaxer.XHR.defaults"></a>static defaults
					 : <i>Jaxer.XHR.SendOptions</i></div><div class="description">The default SendOptions which new calls to Jaxer.XHR.send(message, options, extra) will use, unless overridden by the options argument. This is slightly different for client-side and server-side requests (e.g. server-side requests are by default synchronous).</div></td><td class="no-details">
						No Details
					</td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-property"><td valign="top" colspan="4"><dl class="details"></dl></td></tr></table><a name="Jaxer.XHR.Functions"></a><h2>Functions</h2><table cellspacing="2" width="90%"><tr><td colspan="4" class="toggle-bar"><img src="show_advanced.gif" class="advanced-toggle" onclick="toggleAdvanced(this)" title="Show/Hide advanced API items"></td></tr><tr class="compheader" visibility=""><th style="text-align:left">Method</th><th>Action</th><th class="browser">Jaxer Server Framework</th><th class="browser">Jaxer Client Framework</th></tr><tr class="item advanced"><td class="declaration"><div class="name"><a name="Jaxer.XHR.getTransport"></a>static <a href="javascript:void(0);" onclick="toggleClickDetails(this)">getTransport</a>() : <i>XMLHttpRequest</i></div><div class="description">Returns an XMLHttpRequest object by calling the platform-specific API for it. On the server side of Jaxer, the XPCOM version of XMLHttpRequest is used.<br><br>(Advanced)</div></td><td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-method"><td valign="top" colspan="4"><p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="20%"><i>XMLHttpRequest</i></td><td width="80%"></td></tr></table></p><dl class="details"></dl></td></tr><tr class="item advanced"><td class="declaration"><div class="name"><a name="Jaxer.XHR.onfailure"></a>static <a href="javascript:void(0);" onclick="toggleClickDetails(this)">onfailure</a>(<i>Object</i>&nbsp;error, <i>Object</i>&nbsp;extra, <i>XMLHttpRequest</i>&nbsp;xhr) : <i>
			void
		</i></div><div class="description">The default client-side function used to handle any errors that occur during XMLHttpRequest processing by throwing an error describing them<br><br>(Advanced)</div></td><td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-method"><td valign="top" colspan="4"><p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="10%"><i>Object</i></td><td width="10%"><b>error</b></td><td width="80%">An error object describing the error, if one was thrown. Otherwise this is null.</td></tr><tr><td width="10%"><i>Object</i></td><td width="10%"><b>extra</b></td><td width="80%">Any extra information passed into Jaxer.XHR.send(), e.g. to make error messages more informative.</td></tr><tr><td width="10%"><i>XMLHttpRequest</i></td><td width="10%"><b>xhr</b></td><td width="80%">The XMLHttpRequest object that contains the information received from the server, e.g. in xhr.status and xhr.responseText. It may be null if an error was encountered creating it.</td></tr></table></p><dl class="details"></dl></td></tr><tr class="item advanced"><td class="declaration"><div class="name"><a name="Jaxer.XHR.ontimeout"></a>static <a href="javascript:void(0);" onclick="toggleClickDetails(this)">ontimeout</a>(<i>Error</i>&nbsp;timeout, <i>Object</i>&nbsp;extra, <i>XMLHttpRequest</i>&nbsp;xhr) : <i>
			void
		</i></div><div class="description">The default client-side function used to handle any timeout errors that occur during XMLHttpRequest processing by throwing an error describing them<br><br>(Advanced)</div></td><td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-method"><td valign="top" colspan="4"><p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="10%"><i>Error</i></td><td width="10%"><b>timeout</b></td><td width="80%">The timeout error object encountered, having a "timeout" property with its value indicating the timeout (in milliseconds) used in this request.</td></tr><tr><td width="10%"><i>Object</i></td><td width="10%"><b>extra</b></td><td width="80%">Any extra information passed into Jaxer.XHR.send(), e.g. to make error messages more informative.</td></tr><tr><td width="10%"><i>XMLHttpRequest</i></td><td width="10%"><b>xhr</b></td><td width="80%">The XMLHttpRequest object that contains the information received from the server, e.g. in xhr.status and xhr.responseText. It may be null if an error was encountered creating it.</td></tr></table></p><dl class="details"></dl></td></tr><tr class="item advanced"><td class="declaration"><div class="name"><a name="Jaxer.XHR.testSuccess"></a>static <a href="javascript:void(0);" onclick="toggleClickDetails(this)">testSuccess</a>(<i>XMLHttpRequest</i>&nbsp;xhr) : <i>Boolean</i></div><div class="description">The default function used to test whether the XMLHttpRequest got a successful response or not, in particular using xhr.status, location.protocol and some browser sniffing.<br><br>(Advanced)</div></td><td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-method"><td valign="top" colspan="4"><p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="10%"><i>XMLHttpRequest</i></td><td width="10%"><b>xhr</b></td><td width="80%">The XMLHttpRequest object that got the response</td></tr></table></p><p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="20%"><i>Boolean</i></td><td width="80%">true if successful, false otherwise</td></tr></table></p><dl class="details"></dl></td></tr><tr class="item "><td class="declaration"><div class="name"><a name="Jaxer.XHR.cancel"></a>static <a href="javascript:void(0);" onclick="toggleClickDetails(this)">cancel</a>(<i>Number</i>&nbsp;asyncKey) : <i>Boolean</i></div><div class="description">Cancels the pending async XMLHttpRequest if its response has not yet been received and if it has not yet timed out.</div></td><td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-method"><td valign="top" colspan="4"><p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="10%"><i>Number</i></td><td width="10%"><b>asyncKey</b></td><td width="80%">The key that Jaxer.XHR.send() returned when the request was created.</td></tr></table></p><p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="20%"><i>Boolean</i></td><td width="80%">true if the request was found and canceled, false if it was not found (i.e. was not in the pending queue)</td></tr></table></p><dl class="details"></dl></td></tr><tr class="item "><td class="declaration"><div class="name"><a name="Jaxer.XHR.send"></a>static <a href="javascript:void(0);" onclick="toggleClickDetails(this)">send</a>(<i>String</i>&nbsp;message, [<i>Jaxer.XHR.SendOptions</i>&nbsp;options,] <i>Object</i>&nbsp;extra) : <i>Object</i></div><div class="description">The generic function used to send requests via XMLHttpRequest objects. Each request gets its own XMLHttpRequest object, and async requests hold onto that object until they're finished or timed out or canceled. On the server side of Jaxer, only synchronous requests are supported. <br><br> For async requests, this returns a key that can be used to abort the request via Jaxer.XHR.cancel(). <br><br> For synchronous requests, returns the response of the server or throws an exception if an error occurred, unless an onsuccess function was specified in the options, in which case it passes the response to that function and also handles any errors through the onfailure function if specified in the options. <br><br> In any case, the response can be a text string or an XML DOM. To force one or the other, set the "as" property on the options argument, e.g. if as="text" it will definitely be a text string, if as="xml" it will definitely be an XML DOM, and if as="e4x" it will be an E4X DOM (if E4X is supported -- which is always the case server-side but may not be client-side).</div></td><td class="show-details"><a href="javascript:void(0);" onclick="toggleRowDetails(this)" style="color:#FFFFFF;">Show Details</a></td><td align="center" title="Jaxer Server Framework" class="comparison yes">1.0</td><td align="center" title="Jaxer Client Framework" class="comparison yes">1.0</td></tr><tr class="details-method"><td valign="top" colspan="4"><p class="padded"><b>Parameters</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="10%"><i>String</i></td><td width="10%"><b>message</b></td><td width="80%">The message to send, usually as a query string ("name1=value&name2=value2...")</td></tr><tr><td width="10%"><i>Jaxer.XHR.SendOptions</i></td><td width="10%"><b>options</b></td><td width="80%"><b>(optional)</b>A JavaScript object (hashmap) of name: value property pairs specifying how to handle this request.</td></tr><tr><td width="10%"><i>Object</i></td><td width="10%"><b>extra</b></td><td width="80%">Any extra information that might be useful e.g. in the error handlers on this request. This object is simply passed on to them if/when they're called. E.g. Jaxer.Callback uses this information to pass the name of the function being called remotely, so error messages can be more informative.</td></tr></table></p><p class="padded"><b>Returns</b><table cellspacing="1" width="90%" class="parameter-table"><tr><td width="20%"><i>Object</i></td><td width="80%">For async requests, a key to the XHR object; for synchronous requests (with no onsuccess handler in the options), a text string or an XML DOM, or an object containing detailed information about the response (if the options specified extendedResponse=true)</td></tr></table></p><dl class="details"></dl></td></tr></table></div><div style="visibility:hidden;display:none"> aptana_docs</div></body></html>